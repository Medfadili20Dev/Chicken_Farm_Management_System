@startuml Diagram_3_Controller_Layer

title Diagram 3: Controller Layer (All Controllers)

' ========================================
' CONTROLLER CLASSES (MVC Controllers)
' ========================================

class LoginController {
  - userDAO: UserDAO
  - emailField: TextField
  - passwordField: PasswordField
  --
  + initialize(): void
  + handleLogin(event: ActionEvent): void
  + validateCredentials(): boolean
  + navigateToDashboard(): void
}

class DashboardController {
  - chickenDAO: ChickenDAO
  - eggProductionDAO: EggProductionDAO
  - mortalityDAO: MortalityDAO
  - totalChickensLabel: Label
  - eggsProducedTodayLabel: Label
  - activeAlertsLabel: Label
  - productionChart: BarChart
  --
  + initialize(): void
  + loadDashboardData(): void
  + loadTotalChickens(): void
  + loadEggsProducedToday(): void
  + loadActiveAlerts(): void
  + load7DayProductionChart(): void
  + refreshDashboard(): void
}

class ChickenBayController {
  - houseDAO: HouseDAO
  - chickenDAO: ChickenDAO
  - mortalityDAO: MortalityDAO
  - houseCardsContainer: VBox
  --
  + initialize(): void
  + loadHouseCards(): void
  + loadMortalityStats(): void
  + handleAddChickens(houseID: String): void
  + handleRecordMortality(houseID: String): void
  + handleTransferChickens(): void
  + refreshView(): void
}

class EggsBayController {
  - eggProductionDAO: EggProductionDAO
  - houseDAO: HouseDAO
  - mortalityDAO: MortalityDAO
  - house2ProductionCard: VBox
  - house3ProductionCard: VBox
  - totalStorageLabel: Label
  --
  + initialize(): void
  + loadProductionCards(): void
  + loadTotalStorage(): void
  + handleRecordCollection(houseID: String): void
  + handleRemoveEggs(): void
  + refreshView(): void
}

class StorageController {
  - feedDAO: FeedDAO
  - medicationDAO: MedicationDAO
  - equipmentDAO: EquipmentDAO
  - feedTableView: TableView<Feed>
  - medicationTableView: TableView<Medication>
  - equipmentTableView: TableView<Equipment>
  --
  + initialize(): void
  + loadFeedData(): void
  + loadMedicationData(): void
  + loadEquipmentData(): void
  + handleAddFeed(): void
  + handleUseFeed(): void
  + handleAddMedication(): void
  + handleUseMedication(): void
  + handleAddEquipment(): void
  + handleUpdateEquipmentStatus(): void
  + refreshView(): void
}

class TasksController {
  - taskDAO: TaskDAO
  - personnelDAO: PersonnelDAO
  - tasksListView: ListView<Task>
  --
  + initialize(): void
  + loadTasks(): void
  + handleCreateTask(): void
  + handleEditTask(task: Task): void
  + handleDeleteTask(task: Task): void
  + handleMarkAsDone(task: Task): void
  + refreshView(): void
}

class PersonnelController {
  - personnelDAO: PersonnelDAO
  - personnelCardsContainer: FlowPane
  --
  + initialize(): void
  + loadPersonnelCards(): void
  + handleAddPersonnel(): void
  + handleEditPersonnel(personnel: Personnel): void
  + handleDeletePersonnel(personnel: Personnel): void
  + refreshView(): void
}

note left of LoginController
  <b>Controllers use FXML</b>
  All UI elements injected via @FXML
  
  initialize() called after FXML load
end note

note right of DashboardController
  <b>Dashboard Controller loads:</b>
  • Total chickens count
  • Today's egg production
  • Active alerts count
  • 7-day production chart
  
  Uses parallel data loading
end note

note bottom of ChickenBayController
  <b>Manages 4 house cards:</b>
  • H1: Day-old chicks
  • H2: Egg Layers
  • H3: Meat Females
  • H4: Meat Males
  
  Plus mortality statistics
end note

@enduml
