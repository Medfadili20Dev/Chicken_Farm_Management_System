@startuml ChickenBatchManagement

' ========================================
' CHICKEN BATCH MANAGEMENT
' ========================================

class ChickenBatch {
    +string batchID
    +Date arrivalDate
    +int initialCount
    +int currentCount
    +int deadCount
    +string gender
    +int currentAge
    +string currentHouse
    +string supplierID
    +float mortalityRate
    +string batchStatus
    +calculateAge()
    +updateMortality()
    +transferToHouse()
    +separateByGender()
}

' ========================================
' HOUSE MANAGEMENT
' ========================================

class House {
    +string houseID
    +int houseNumber
    +int maxCapacity
    +int currentCapacity
    +string status
    +Date lastCleaningDate
    +string purpose
    +float temperature
    +float humidity
    +checkCapacity()
    +updateEnvironment()
    +scheduleCleaning()
}

' ========================================
' HEALTH MONITORING
' ========================================

class HealthRecord {
    +string recordID
    +string recordType
    +Date date
    +string chickenBatchID
    +string details
    +string veterinaryNotes
    +string symptoms
    +string treatment
    +float temperature
    +float humidity
    +string veterinaryID
    +recordDailyCheck()
    +recordVaccination()
    +recordDisease()
    +recordMortality()
}

' ========================================
' PRODUCTION TRACKING
' ========================================

class ProductionRecord {
    +string recordID
    +string recordType
    +Date date
    +float quantity
    +string houseID
    +string batchID
    +string notes
    +int crackedEggs
    +int cleanEggs
    +string recordedBy
    +recordEggCollection()
    +recordFeedConsumption()
    +recordGrowth()
    +calculateProduction()
}

' ========================================
' INSPECTION MANAGEMENT
' ========================================

class InspectionRecord {
    +string inspectionID
    +string inspectionType
    +Date date
    +string inspector
    +string findings
    +string status
    +string recommendations
    +int houseNumber
    +string issuesFound
    +conductInspection()
    +recordFindings()
    +generateReport()
}

' ========================================
' WORKER ROLES (Farm Operations)
' ========================================

class Veterinary {
    +string workerID
    +string licenseNumber
    +string[] specializations
    +Date licenseExpiryDate
    +performHealthCheck()
    +prescribeMedication()
    +conductVaccination()
    +investigateDisease()
}

class FarmhandSupervisor {
    +string workerID
    +int subordinateCount
    +string[] responsibilities
    +string shiftSchedule
    +inspectHouses()
    +superviseWork()
    +verifyProduction()
    +assignDailyTasks()
}

class Farmhand {
    +string workerID
    +string assignedTasks
    +string supervisorID
    +string shiftSchedule
    +collectEggs()
    +feedChickens()
    +cleanHouses()
    +monitorChickens()
}

class InventorySupplyTracker {
    +string workerID
    +string trackingCertification
    +string[] managedCategories
    +recordProduction()
    +trackFeedUsage()
    +updateInventory()
}

' ========================================
' SUPPLIER REFERENCE
' ========================================

class ChickSupplier {
    +string supplierID
    +string breedSpecialty
    +string hatcheryLocation
    +supplyChicks()
}

' ========================================
' CHICKEN LIFECYCLE RELATIONSHIPS
' ========================================

ChickSupplier "1" -- "*" ChickenBatch : provides >
House "1" -- "0..1" ChickenBatch : contains >
ChickenBatch "1" -- "*" ProductionRecord : tracked_by >
ChickenBatch "1" -- "*" HealthRecord : monitored_by >

' ========================================
' HOUSE & INSPECTION
' ========================================

House "1" -- "*" InspectionRecord : inspected_by >
House "1" -- "*" ProductionRecord : records_from >

' ========================================
' WORKER RESPONSIBILITIES
' ========================================

Veterinary "1" -- "*" HealthRecord : creates >
FarmhandSupervisor "1" -- "*" InspectionRecord : creates >
FarmhandSupervisor "1" -- "*" Farmhand : supervises >
InventorySupplyTracker "1" -- "*" ProductionRecord : records >
Farmhand "*" -- "*" ProductionRecord : contributes_to >

' ========================================
' COMPOSITION RELATIONSHIPS
' ========================================

ChickenBatch *-- "*" ProductionRecord : owns
ChickenBatch *-- "*" HealthRecord : owns

' ========================================
' AGGREGATION RELATIONSHIPS
' ========================================

House o-- "0..1" ChickenBatch : temporarily_contains

' ========================================
' CONSTRAINTS & LIFECYCLE NOTES
' ========================================

note right of ChickenBatch
    Lifecycle Stages:
    0-24 weeks: House 1 (Mixed)
    24 weeks: Separate by gender
    Females → House 2 (24-78 weeks)
    Males → House 4 (24+ weeks)
    Old Layers → House 3 (78+ weeks)
    
    Constraints:
    {mortalityRate ≤ 5%}
    {currentCount = initialCount - deadCount}
    {currentAge = (today - arrivalDate) weeks}
end note

note right of House
    House Assignment:
    House 1: Day-old chicks (0-24w)
    House 2: Egg layers (24-78w)
    House 3: Old layers (78+w)
    House 4: Males (24+w)
    
    Constraints:
    {currentCapacity ≤ maxCapacity}
    {maxCapacity = 5000 per house}
    {status ∈ {ACTIVE, CLEANING, MAINTENANCE}}
end note

note right of HealthRecord
    Record Types:
    - DAILY_CHECK (mandatory)
    - VACCINATION
    - DISEASE
    - MEDICATION
    - MORTALITY
    
    ONSSA Compliance:
    - Daily records required
    - Mortality > 5% = alert
    - Keep records 3+ years
end note

note right of ProductionRecord
    Record Types:
    - EGG_COLLECTION (2x daily)
    - FEED_CONSUMPTION (daily)
    - GROWTH_TRACKING (weekly)
    - MORTALITY (daily)
    
    Calculations:
    {cleanEggs + crackedEggs ≤ quantity}
    Expected: 5-6 eggs/week per layer
end note

note right of InspectionRecord
    Inspection Types:
    - DAILY_CLEANLINESS
    - WEEKLY_DEEP_CLEAN
    - EQUIPMENT_CHECK
    - ONSSA_INSPECTION
    
    Status:
    {PASSED, FAILED, NEEDS_ATTENTION}
end note

@enduml